<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
  </head>

  <body>
    <script>
      "use strict";
      /* 
      С помощью метода reduce() мне не удалось решить 
      задачу, поэтому привожу другое решение. Кстати, ответ
      из учебника у меня тоже не заработал
      */
      function groupById(arr) {
        let obj = {};
        arr.forEach((item) => (obj[item.id] = item));
        return obj;
      }

      let users = [
        { id: "john", name: "John Smith", age: 20 },
        { id: "ann", name: "Ann Smith", age: 24 },
        { id: "pete", name: "Pete Peterson", age: 31 },
      ];

      let usersById = groupById(users);

      alert(usersById.john.id); // john
      alert(usersById.ann.name); // Ann Smith
      alert(usersById.pete.age); // 31

      /*
      // после вызова у нас должно получиться:
      usersById = {
      john: {id: 'john', name: "John Smith", age: 20},
      ann: {id: 'ann', name: "Ann Smith", age: 24},
      pete: {id: 'pete', name: "Pete Peterson", age: 31},
      }
      */
    </script>
  </body>
</html>
